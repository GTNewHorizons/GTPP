package gtPlusPlus.xmod.gregtech.common.blocks.textures.turbine;

import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS1;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS2;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS3;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS4;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS5;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS6;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS7;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS8;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS9;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS_ACTIVE1;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS_ACTIVE2;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS_ACTIVE3;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS_ACTIVE4;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS_ACTIVE5;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS_ACTIVE6;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS_ACTIVE7;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS_ACTIVE8;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_SS_ACTIVE9;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST1;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST2;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST3;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST4;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST5;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST6;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST7;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST8;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST9;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST_ACTIVE1;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST_ACTIVE2;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST_ACTIVE3;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST_ACTIVE4;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST_ACTIVE5;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST_ACTIVE6;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST_ACTIVE7;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST_ACTIVE8;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_ST_ACTIVE9;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI1;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI2;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI3;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI4;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI5;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI6;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI7;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI8;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI9;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI_ACTIVE1;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI_ACTIVE2;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI_ACTIVE3;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI_ACTIVE4;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI_ACTIVE5;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI_ACTIVE6;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI_ACTIVE7;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI_ACTIVE8;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TI_ACTIVE9;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU1;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU2;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU3;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU4;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU5;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU6;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU7;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU8;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU9;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU_ACTIVE1;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU_ACTIVE2;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU_ACTIVE3;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU_ACTIVE4;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU_ACTIVE5;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU_ACTIVE6;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU_ACTIVE7;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU_ACTIVE8;
import static gregtech.api.enums.Textures.BlockIcons.LARGETURBINE_TU_ACTIVE9;

import gregtech.api.enums.Textures.BlockIcons;
import gregtech.api.interfaces.metatileentity.IMetaTileEntity;
import gregtech.api.interfaces.tileentity.IGregTechTileEntity;
import gtPlusPlus.xmod.gregtech.api.metatileentity.implementations.GT_MetaTileEntity_Hatch_Turbine;
import gtPlusPlus.xmod.gregtech.common.blocks.GregtechMetaSpecialMultiCasings;
import net.minecraft.tileentity.TileEntity;
import net.minecraft.util.IIcon;
import net.minecraft.world.IBlockAccess;

public class LargeTurbineTextureHandler {

    /**
     * LP Turbines
     */
    public static BlockIcons[] OVERLAY_LP_TURBINE = new BlockIcons[] {
        LARGETURBINE_ST1,
        LARGETURBINE_ST2,
        LARGETURBINE_ST3,
        LARGETURBINE_ST4,
        LARGETURBINE_ST5,
        LARGETURBINE_ST6,
        LARGETURBINE_ST7,
        LARGETURBINE_ST8,
        LARGETURBINE_ST9,
    };

    public static BlockIcons[] OVERLAY_LP_TURBINE_ACTIVE = new BlockIcons[] {
        LARGETURBINE_ST_ACTIVE1,
        LARGETURBINE_ST_ACTIVE2,
        LARGETURBINE_ST_ACTIVE3,
        LARGETURBINE_ST_ACTIVE4,
        LARGETURBINE_ST_ACTIVE5,
        LARGETURBINE_ST_ACTIVE6,
        LARGETURBINE_ST_ACTIVE7,
        LARGETURBINE_ST_ACTIVE8,
        LARGETURBINE_ST_ACTIVE9,
    };

    /**
     * HP Turbines
     */
    public static BlockIcons[] OVERLAY_HP_TURBINE = new BlockIcons[] {
        LARGETURBINE_TI1,
        LARGETURBINE_TI2,
        LARGETURBINE_TI3,
        LARGETURBINE_TI4,
        LARGETURBINE_TI5,
        LARGETURBINE_TI6,
        LARGETURBINE_TI7,
        LARGETURBINE_TI8,
        LARGETURBINE_TI9,
    };

    public static BlockIcons[] OVERLAY_HP_TURBINE_ACTIVE = new BlockIcons[] {
        LARGETURBINE_TI_ACTIVE1,
        LARGETURBINE_TI_ACTIVE2,
        LARGETURBINE_TI_ACTIVE3,
        LARGETURBINE_TI_ACTIVE4,
        LARGETURBINE_TI_ACTIVE5,
        LARGETURBINE_TI_ACTIVE6,
        LARGETURBINE_TI_ACTIVE7,
        LARGETURBINE_TI_ACTIVE8,
        LARGETURBINE_TI_ACTIVE9,
    };

    /**
     * Gas Turbines
     */
    public static BlockIcons[] OVERLAY_GAS_TURBINE = new BlockIcons[] {
        LARGETURBINE_SS1,
        LARGETURBINE_SS2,
        LARGETURBINE_SS3,
        LARGETURBINE_SS4,
        LARGETURBINE_SS5,
        LARGETURBINE_SS6,
        LARGETURBINE_SS7,
        LARGETURBINE_SS8,
        LARGETURBINE_SS9,
    };

    public static BlockIcons[] OVERLAY_GAS_TURBINE_ACTIVE = new BlockIcons[] {
        LARGETURBINE_SS_ACTIVE1,
        LARGETURBINE_SS_ACTIVE2,
        LARGETURBINE_SS_ACTIVE3,
        LARGETURBINE_SS_ACTIVE4,
        LARGETURBINE_SS_ACTIVE5,
        LARGETURBINE_SS_ACTIVE6,
        LARGETURBINE_SS_ACTIVE7,
        LARGETURBINE_SS_ACTIVE8,
        LARGETURBINE_SS_ACTIVE9,
    };

    /**
     * Plasma Turbines
     */
    public static BlockIcons[] OVERLAY_PLASMA_TURBINE = new BlockIcons[] {
        LARGETURBINE_TU1,
        LARGETURBINE_TU2,
        LARGETURBINE_TU3,
        LARGETURBINE_TU4,
        LARGETURBINE_TU5,
        LARGETURBINE_TU6,
        LARGETURBINE_TU7,
        LARGETURBINE_TU8,
        LARGETURBINE_TU9,
    };

    public static BlockIcons[] OVERLAY_PLASMA_TURBINE_ACTIVE = new BlockIcons[] {
        LARGETURBINE_TU_ACTIVE1,
        LARGETURBINE_TU_ACTIVE2,
        LARGETURBINE_TU_ACTIVE3,
        LARGETURBINE_TU_ACTIVE4,
        LARGETURBINE_TU_ACTIVE5,
        LARGETURBINE_TU_ACTIVE6,
        LARGETURBINE_TU_ACTIVE7,
        LARGETURBINE_TU_ACTIVE8,
        LARGETURBINE_TU_ACTIVE9,
    };

    public static IIcon handleCasingsGT(
            final IBlockAccess aWorld,
            final int xCoord,
            final int yCoord,
            final int zCoord,
            final int aSide,
            final GregtechMetaSpecialMultiCasings i) {
        final int tMeta = aWorld.getBlockMetadata(xCoord, yCoord, zCoord);

        // 0 shaft
        // 1 LP
        // 2 HP
        // 3 Gas
        // 4 Plasma

        BlockIcons[] mGetCurrentTextureSet = null;
        BlockIcons[] mGetCurrentTextureSet_ACTIVE = null;

        if (tMeta <= 0 || tMeta >= 5) {
            return GregtechMetaSpecialMultiCasings.getStaticIcon((byte) aSide, (byte) tMeta);
        } else {
            if (tMeta == 1) {
                mGetCurrentTextureSet = OVERLAY_LP_TURBINE;
                mGetCurrentTextureSet_ACTIVE = OVERLAY_LP_TURBINE_ACTIVE;
            } else if (tMeta == 2) {
                mGetCurrentTextureSet = OVERLAY_HP_TURBINE;
                mGetCurrentTextureSet_ACTIVE = OVERLAY_HP_TURBINE_ACTIVE;
            } else if (tMeta == 3) {
                mGetCurrentTextureSet = OVERLAY_GAS_TURBINE;
                mGetCurrentTextureSet_ACTIVE = OVERLAY_GAS_TURBINE_ACTIVE;
            } else if (tMeta == 4) {
                mGetCurrentTextureSet = OVERLAY_PLASMA_TURBINE;
                mGetCurrentTextureSet_ACTIVE = OVERLAY_PLASMA_TURBINE_ACTIVE;
            }
            if (mGetCurrentTextureSet == null || mGetCurrentTextureSet_ACTIVE == null) {
                return GregtechMetaSpecialMultiCasings.getStaticIcon((byte) aSide, (byte) tMeta);
            }

            if ((aSide == 2) || (aSide == 3)) {
                TileEntity tTileEntity;
                IMetaTileEntity tMetaTileEntity;
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord + (aSide == 3 ? 1 : -1), yCoord - 1, zCoord)))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[0].getIcon();
                    }
                    return mGetCurrentTextureSet[0].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord + (aSide == 3 ? 1 : -1), yCoord, zCoord)))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[3].getIcon();
                    }
                    return mGetCurrentTextureSet[3].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord + (aSide == 3 ? 1 : -1), yCoord + 1, zCoord)))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[6].getIcon();
                    }
                    return mGetCurrentTextureSet[6].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord, yCoord - 1, zCoord)))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[1].getIcon();
                    }
                    return mGetCurrentTextureSet[1].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord, yCoord + 1, zCoord)))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[7].getIcon();
                    }
                    return mGetCurrentTextureSet[7].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord + (aSide == 2 ? 1 : -1), yCoord + 1, zCoord)))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[8].getIcon();
                    }
                    return mGetCurrentTextureSet[8].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord + (aSide == 2 ? 1 : -1), yCoord, zCoord)))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[5].getIcon();
                    }
                    return mGetCurrentTextureSet[5].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord + (aSide == 2 ? 1 : -1), yCoord - 1, zCoord)))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[2].getIcon();
                    }
                    return mGetCurrentTextureSet[2].getIcon();
                }
            } else if ((aSide == 4) || (aSide == 5)) {
                TileEntity tTileEntity;
                Object tMetaTileEntity;
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord, yCoord - 1, zCoord + (aSide == 4 ? 1 : -1))))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[0].getIcon();
                    }
                    return mGetCurrentTextureSet[0].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord, yCoord, zCoord + (aSide == 4 ? 1 : -1))))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[3].getIcon();
                    }
                    return mGetCurrentTextureSet[3].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord, yCoord + 1, zCoord + (aSide == 4 ? 1 : -1))))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[6].getIcon();
                    }
                    return mGetCurrentTextureSet[6].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord, yCoord - 1, zCoord)))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[1].getIcon();
                    }
                    return mGetCurrentTextureSet[1].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord, yCoord + 1, zCoord)))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[7].getIcon();
                    }
                    return mGetCurrentTextureSet[7].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord, yCoord + 1, zCoord + (aSide == 5 ? 1 : -1))))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[8].getIcon();
                    }
                    return mGetCurrentTextureSet[8].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord, yCoord, zCoord + (aSide == 5 ? 1 : -1))))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[5].getIcon();
                    }
                    return mGetCurrentTextureSet[5].getIcon();
                }
                if ((null != (tTileEntity = aWorld.getTileEntity(xCoord, yCoord - 1, zCoord + (aSide == 5 ? 1 : -1))))
                        && ((tTileEntity instanceof IGregTechTileEntity))
                        && (((IGregTechTileEntity) tTileEntity).getFrontFacing() == aSide)
                        && (null != (tMetaTileEntity = ((IGregTechTileEntity) tTileEntity).getMetaTileEntity()))
                        && ((tMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine))) {
                    if (isUsingAnimatedTexture(tTileEntity)) {
                        return mGetCurrentTextureSet_ACTIVE[2].getIcon();
                    }
                    return mGetCurrentTextureSet[2].getIcon();
                }
            }
        }
        return GregtechMetaSpecialMultiCasings.getStaticIcon((byte) aSide, (byte) tMeta);
    }

    public static boolean isUsingAnimatedTexture(TileEntity tTileEntity) {
        boolean aVal = true;
        IGregTechTileEntity aTile;
        if (tTileEntity instanceof IGregTechTileEntity) {
            aTile = (IGregTechTileEntity) tTileEntity;
            if (aTile != null) {
                final IMetaTileEntity aMetaTileEntity = aTile.getMetaTileEntity();
                if (aMetaTileEntity != null && aMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine) {
                    aVal = ((GT_MetaTileEntity_Hatch_Turbine) aMetaTileEntity)
                            .getBaseMetaTileEntity()
                            .isActive();
                    // Logger.INFO("Returning "+aVal+" as Rotor Assembly controller status");
                }
            }
        }
        return aVal;
    }

    public static GT_MetaTileEntity_Hatch_Turbine isTurbineHatch(final IGregTechTileEntity aTileEntity) {
        if (aTileEntity != null) {
            final IMetaTileEntity aMetaTileEntity = aTileEntity.getMetaTileEntity();
            if (aMetaTileEntity != null && aMetaTileEntity instanceof GT_MetaTileEntity_Hatch_Turbine) {
                return (GT_MetaTileEntity_Hatch_Turbine) aMetaTileEntity;
            }
        }
        return null;
    }
}
